(this["webpackJsonpreact-client"]=this["webpackJsonpreact-client"]||[]).push([[0],{134:function(e,t,a){e.exports={wrapper:"table_wrapper__tquUD",input:"table_input__3Z0za",td:"table_td__2vOOV",firstInput:"table_firstInput__2pFxf"}},243:function(e,t,a){},398:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),i=a.n(s),c=(a(243),a.p+"static/media/Vector.43dffd10.svg"),o=a(89),l=a.n(o),u=a(6),j=function(){return Object(u.jsxs)("header",{className:l.a.header,children:[Object(u.jsx)("div",{className:l.a.title,children:"AB Test Real"}),Object(u.jsxs)("div",{className:l.a.inputWrapper,children:[Object(u.jsx)("img",{className:l.a.img,src:c,alt:""}),Object(u.jsx)("input",{type:"text",className:l.a.input})]})]})},b=a(46),d=a.n(b),p=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{className:d.a.list,children:[Object(u.jsx)("li",{className:d.a.listItem,children:"Projects"}),Object(u.jsx)("hr",{className:d.a.hr}),Object(u.jsx)("li",{className:d.a.listItem,children:"Add new"}),Object(u.jsx)("hr",{className:d.a.hr}),Object(u.jsx)("li",{className:d.a.listItem,children:" Account"}),Object(u.jsx)("hr",{className:d.a.hr}),Object(u.jsx)("li",{className:d.a.listItem,children:"Support"}),Object(u.jsx)("hr",{className:d.a.hr})]})})},f=a(28),h=a(452),O=a(68),m=a.n(O),x=a(453),v=a(218),_=a(107),g=a(59),w=a.n(g),N=a(154),y=a(83),C=a(158),D=a(132),I=a(155),A=a.n(I),R=a(55);var W=Object(D.b)({name:"rows",initialState:{rows:[]},reducers:{addNewRow:function(e){return{rows:[].concat(Object(C.a)(e.rows),[Object(y.a)({},(t=e.rows.length+1,a="2021-01-01",n="2021-01-02",{id:t,registrationDate:a,lastActivityDate:n}))])};var t,a,n},updateRow:function(e,t){var a=t.payload;return{rows:[].concat(Object(C.a)(e.rows.filter((function(e){return e.id!==a.id}))),[Object(y.a)({},a)])}},loadUsersInfo:function(e,t){return{rows:t.payload.map((function(e){return{id:e.id,registrationDate:e.registrationDate.substring(0,10),lastActivityDate:e.lastActivityDate.substring(0,10)}}))}},sendUsersInfo:function(e){e.rows.forEach(function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("https://ab-test-task-api.herokuapp.com\u200b/api/Users",t).catch((function(e){var t=e.response.data.errors;alert(t[Object.keys(t)[0]])}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}),k=function(){return Object(R.c)((function(e){return e.table.rows})).slice().sort((function(e,t){return e.id-t.id}))},F=W.actions,S=F.loadUsersInfo,L=F.sendUsersInfo,U=W.actions,T=U.addNewRow,E=(U.setRows,U.updateRow);function H(){return(H=Object(N.a)(w.a.mark((function e(t,a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("https://ab-test-task-api.herokuapp.com/api/Users/");case 2:n=e.sent,t(S(n.data));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){e(L())}var V=W.reducer,B=[{name:"Retention",value:0},{name:"New users",value:0}],K=function(e){return e/1e3/60/60/24},P=function(e){var t=new Date(new Date(e.lastActivityDate)-new Date(e.registrationDate));return(t=K(t))>7},J=function(){return B=[{name:"Retention",value:0},{name:"New users",value:0}],function(e){var t=0;e.map((function(e){P(e)&&(B[0].value+=1,t+=1)})),B[1].value=e.length-t}(k()),Object(u.jsx)("div",{children:Object(u.jsxs)(x.a,{width:400,height:400,children:[Object(u.jsx)(v.a,{data:B,dataKey:"value",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",label:!0,isAnimationActive:"true"}),Object(u.jsx)(_.a,{})]})})},Q=a(439),q=a(223),G=a(224),M=a(104),Y=a(227),Z=[{userLifespan:0,userCount:0}],X=function(){Z=[{userLifespan:0,userCount:0}]},$=function(e){var t=!1;Z.map((function(a){a.userLifespan===e&&(a.userCount+=1,t=!0)})),t||Z.push({userLifespan:e,userCount:1})},ee=function(){var e,t=k();return e=t,X(),e.map((function(e){var t=new Date(e.registrationDate),a=new Date(e.lastActivityDate),n=K(a-t);$(n)})),Object(u.jsxs)(Q.a,{width:500,height:300,data:Z,margin:{top:5,right:30,left:20,bottom:5},barSize:20,children:[Object(u.jsx)(q.a,{dataKey:"userLifespan",scale:"point",padding:{left:10,right:10}}),Object(u.jsx)(G.a,{}),Object(u.jsx)(_.a,{}),Object(u.jsx)(M.a,{}),Object(u.jsx)(Y.a,{dataKey:"userCount",fill:"#8884d8"})]})},te=a(122),ae=a(440),ne=a(446),re=a(448),se=a(444),ie=a(225),ce=a.n(ie),oe=a(447),le=a(449),ue=a(450),je=a(134),be=a.n(je),de=a(11),pe=a(445),fe=function(e){var t=e.userInfo,a=e.propertyName,n=e.onChange,r=e.align,s=e.type,i=e.isFirstTableRow,c=me();return Object(u.jsxs)(ae.a,{align:r,className:(c.tableCell,be.a.td),children:["number"===s&&Object(u.jsx)("input",{type:"text",autoFocus:!0,className:"".concat(be.a.input," ").concat(i&&be.a.firstInput),value:t[a],onChange:function(e){return n(e,t)}}),"date"===s&&Object(u.jsx)(ue.a,{type:"date",defaultValue:t[a],className:c.textField,onChange:function(e){return n(e,Object(y.a)(Object(y.a)({},t),{},Object(te.a)({},a,e.target.value)))},InputLabelProps:{shrink:!0}})]})},he=Object(de.a)((function(e){return{head:{opacity:.4,color:"#3C5AA8",border:0},body:{fontSize:14,color:"#5D6D97",fontFamily:"Ubuntu",fontStyle:"normal",fontWeight:400,border:0}}}))(ae.a),Oe=Object(de.a)((function(){}))(se.a),me=Object(pe.a)({table:{minWidth:1300},button:{color:"#5D6E97",fontSize:16,fontFamily:"Ubuntu",fontStyle:"normal",marginTop:25,fontWeight:400,border:0,textTransform:"none"}}),xe=function(){var e=k(),t=Object(R.b)(),a=me(),n=function(e,a){t(E(a))};return Object(u.jsxs)("div",{children:[Object(u.jsx)(ne.a,{border:0,children:Object(u.jsxs)(oe.a,{className:a.table,children:[Object(u.jsxs)(re.a,{children:[Object(u.jsx)(he,{align:"left",children:"UserID"}),Object(u.jsx)(he,{align:"center",children:"Registration Date"}),Object(u.jsx)(he,{align:"center",children:"Date Last Activity"})]}),Object(u.jsx)(le.a,{children:e.map((function(e){return Object(u.jsxs)(Oe,{children:[Object(u.jsx)(fe,{userInfo:e,type:"number",propertyName:"id",onChange:n,align:"left",isFirstTableRow:!0}),Object(u.jsx)(fe,{userInfo:e,propertyName:"registrationDate",onChange:n,type:"date",align:"center"}),Object(u.jsx)(fe,{userInfo:e,propertyName:"lastActivityDate",onChange:n,type:"date",align:"center"})]},e.id)}))})]})}),Object(u.jsx)("div",{children:Object(u.jsx)(h.a,{className:a.button,startIcon:Object(u.jsx)(ce.a,{}),size:"small",onClick:function(){t(T())},disableRipple:!0,children:"Add one more"})})]})};function ve(e){var t=r.a.useState(!1),a=Object(f.a)(t,2),n=a[0],s=a[1],i=Object(R.b)();return Object(u.jsxs)("div",{className:m.a.wrapper,children:[Object(u.jsx)(xe,{}),Object(u.jsxs)("div",{className:m.a.buttonWrapper,children:[Object(u.jsx)(h.a,{variant:"contained",disableElevation:!0,className:m.a.button,onClick:function(){s(!0)},children:"Calculate"}),Object(u.jsx)(h.a,{variant:"contained",disableElevation:!0,className:m.a.button,onClick:function(){i(z)},children:"Save"})]}),Object(u.jsxs)("div",{className:n?m.a.enableCharts:m.a.disableCharts,children:[Object(u.jsx)(J,{}),Object(u.jsx)(ee,{})]})]})}a(398);var _e=function(){return Object(u.jsxs)("div",{className:"globalWrapper",children:[Object(u.jsx)(j,{}),Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)(p,{}),Object(u.jsx)(ve,{})]})]})},ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,455)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))},we=a(96),Ne=Object(D.a)({reducer:{table:V},middleware:[we.a]});Ne.dispatch((function(e,t){return H.apply(this,arguments)})),i.a.render(Object(u.jsx)(R.a,{store:Ne,children:Object(u.jsx)(_e,{})}),document.getElementById("root")),ge()},46:function(e,t,a){e.exports={list:"Navbar_list__2ivEm",listItem:"Navbar_listItem__jFIH9",hr:"Navbar_hr__v13MV"}},68:function(e,t,a){e.exports={wrapper:"Content_wrapper__3YTW6",button:"Content_button__bguWG",buttonWrapper:"Content_buttonWrapper__2cdLR",disableCharts:"Content_disableCharts___Syr_",enableCharts:"Content_enableCharts__i7vOv"}},89:function(e,t,a){e.exports={header:"Header_header__2TQsK",title:"Header_title__vNSEA",input:"Header_input__WBWUN",inputWrapper:"Header_inputWrapper__3QgEw",img:"Header_img__VLlHO"}}},[[399,1,2]]]);
//# sourceMappingURL=main.ffa7578f.chunk.js.map